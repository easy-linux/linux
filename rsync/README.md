# RSYNC продвинутое копирование локально и по сети


## Видео находится здесь:
https://youtu.be/n2peak03KXo

## Все команды, которые использовались в видео

```
git clone https://github.com/easy-linux/VanillaJS.git

rsync /tmp/src/VanillaJS /tmp/dst

rsync -av /tmp/src/VanillaJS /tmp/dst

rsync -avz /tmp/src/VanillaJS /tmp/dst 

rsync -avzh /tmp/src/VanillaJS /tmp/dst  

rsync -avzh --update /tmp/src/VanillaJS /tmp/dst

rsync -avzh --update /tmp/dst/VanillaJS/ /tmp/src/VanillaJS

rsync -avzh --update /tmp/dst/VanillaJS user1@192.168.5.124:/home/user1/data

rsync -avzh --update user1@192.168.5.124:/home/user1/data/VanillaJS user2@192.168.5.124:/tmp/

rm -rf VanillaJS   

rsync -avzh --update ./ user2@192.168.5.124:/tmp/VanillaJS   

rsync -avzh --update user2@192.168.5.124:/tmp/VanillaJS ./    

rsync -avzh --update --progress user2@192.168.5.124:/tmp/VanillaJS ./

rsync -avzh --update --progress --delete user2@192.168.5.124:/tmp/VanillaJS ./VanillaJS

rsync -avzh --update --progress --delete user2@192.168.5.124:/tmp/VanillaJS/ ./VanillaJS
```




## Описание некоторых опция при работе с RSYNC:

``-a, --archive``: Архивный режим, включает рекурсивное копирование и сохранение метаданных.

``-v, --verbose``: Вывод подробной информации о процессе копирования.

``-z, --compress``: Компрессия данных в процессе передачи.
Опции Удаленной Синхронизации:

``-e, --rsh``: Задает альтернативный протокол удаленного выполнения (по умолчанию используется ssh).
Опции Исключения:

``--exclude``: Исключает указанные файлы или директории из процесса синхронизации.

``--exclude-from``: Задает файл, содержащий правила исключения.
Опции Архивации и Компрессии:

``--backup``: Создает резервные копии файлов, которые были изменены или удалены.

``--backup-dir``: Задает директорию для хранения резервных копий.
Опции Времени:

``--update``: Обновляет только файлы с более поздней временной меткой.

``-t, --times``: Сохраняет временные метки файлов.

## Опции передачи данных

``--progress``: Отображает прогресс передачи данных.

``--partial``: Резервирует частично переданные файлы, чтобы избежать повторной передачи.

## Опции Блокировки и Ограничения

``--bwlimit``: Ограничивает пропускную способность для передачи данных.

##Опции Аутентификации:

``--password-file``: Задает файл с паролем для аутентификации на удаленной системе.


## Опции Логирования

``--log-file``: Задает файл для записи лога операций.
Опции Скриптования:

``--preallocate``: Выделяет место для файлов перед началом передачи.
Опции Использования Свойств Файловой Системы:

``--no-OPTION``: Отключает опцию по умолчанию. Например, --no-p отключает сохранение прав и владельца файлов.
Опции Управления Задачами:

``--daemon``: Запускает rsync в режиме демона для поддержки удаленных запросов.


## Резервное копирование с удаленного сервера на локальный компьютер

```rsync -avzh username@remote:/path/to/source/ /path/to/destination/```

``-a``: Архивный режим (рекурсивное копирование с сохранением метаданных).

``-v``: Подробный вывод.

``-z``: Компрессия данных во время передачи.

``-h``: Человеко-читаемые размеры файлов.

Замените ``username`` на ваше имя пользователя, ``remote`` на адрес удаленного сервера, ``/path/to/source/`` на путь к копируемому каталогу на удаленном сервере, и ``/path/to/destination/`` на локальный путь для сохранения резервной копии.

## Восстановление с сохраненной резервной копии с перезаписью измененных файлов на удаленном хосте:

```rsync -avzh --delete /path/to/backup/ username@remote:/path/to/restore/```

``--delete``: Удалить на удаленном хосте файлы, которых нет в резервной копии (перезаписать измененные).

Замените ``/path/to/backup/`` на путь к сохраненной резервной копии на локальном компьютере, ``username`` на ваше имя пользователя, remote на адрес удаленного сервера, и ``/path/to/restore/`` на путь восстановления на удаленном сервере.

Убедитесь, что у вас есть необходимые права доступа и правильные параметры для вашей конкретной ситуации.
